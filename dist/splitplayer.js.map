{"version":3,"sources":["ES6.js"],"names":[],"mappings":";;AAEA,YAAY,CAAC;;;AAGb,IAAM,QAAQ,GAAG,CAAC,CAAC;AACnB,IAAM,OAAO,GAAG,CAAC,CAAC;AAClB,IAAM,KAAK,GAAG,CAAC,CAAC;AAChB,IAAM,SAAS,GAAG,CAAC,CAAC;AACpB,IAAM,OAAO,GAAG,CAAC,CAAC;AAClB,IAAM,MAAK,GAAG,CAAC,CAAC;;AAEhB,IAAI,WAAW,GAAG,SAAd,WAAW,CAAa,QAAQ,EAAE;AAClC,aAAS;;;AAGT,QAAI,CAAC,MAAM,GAAG,EAAE,CAAC;;;AAGjB,QAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;;AAGlB,QAAI,CAAC,UAAU,GAAG,CAAC,CAAC;;;AAGpB,QAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;;;AAG9B,QAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;;AAEnC,QAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC;AACrB,cAAM,EAAE,SAAS;AACjB,cAAM,EAAE,EAAE;AACV,YAAI,EAAE,IAAI;AACV,iBAAS,EAAE,CAAC;KACf,EAAE,QAAQ,CAAC,CAAE;;AAEd,QAAI,CAAC,qBAAqB,EAAE,CAAC;;AAE7B,WAAO,IAAI,CAAC;CACf,CAAC;;AAEF,WAAW,CAAC,SAAS,GAAG;;;;;AAKpB,yBAAqB,EAAA,iCAAG;;AAEpB,YAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC;;AAElC,wBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,CACvC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAC1C,CAAC;KAEL;;;;;AAKD,2BAAuB,EAAA,mCAAG;;AAEtB,YAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;;AAEhC,YAAI,CAAC,MAAM,EAAE,CAAC;;;;;;;;AAGd,iCAAkB,IAAI,CAAC,QAAQ,CAAC,MAAM,8HAAE;oBAA/B,KAAK;;AACV,oBAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxB;;;;;;;;;;;;;;;;AAED,YAAI,CAAC,aAAa,GAAG,OAAO,CAAC;KAChC;;AAED,UAAM,EAAA,gBAAC,MAAM,EAAE;AACX,YAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;KACvC;;AAED,YAAQ,EAAA,kBAAC,KAAK,EAAE;;AAEZ,YAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;AAC/C,mBAAO,KAAK,CAAC;SAChB;;AAED,YAAI,CAAC,MAAM,CAAC,IAAI,CACZ,IAAI,gBAAgB,CAAC,IAAI,EAAE;AACvB,iBAAK,EAAE,KAAK;SACf,CAAC,CACL,CAAC;KAEL;;AAED,eAAW,EAAA,qBAAC,KAAK,EAAE;;AAEf,SAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;;AAEzC,YAAI,CAAC,MAAM,GAAG,CAAC,CAAC,OAAO,CACnB,IAAI,CAAC,MAAM,EACX,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAClC,CAAC;;AAEF,YAAI,CAAC,UAAU,EAAE,CAAC;KACrB;;AAED,WAAO,EAAA,mBAAG;;AAEN,YAAI,CAAC,UAAU,EAAE,CAAC;;AAElB,YAAI,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AACxC,mBAAO,KAAK,CAAC;SAChB;;AAED,YAAI,CAAC,aAAa,GAAG,KAAK,CAAC;;;;;;;;AAG3B,kCAAmB,IAAI,CAAC,OAAO,mIAAE;oBAAxB,MAAM;;AACX,sBAAM,CAAC,OAAO,EAAE,CAAC;aACpB;;;;;;;;;;;;;;;KACJ;;AAED,QAAI,EAAA,gBAAG;;AAEH,YAAI,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AACxC,mBAAO,KAAK,CAAC;SAChB;;;;;;;AAED,kCAAkB,IAAI,CAAC,MAAM,mIAAE;oBAAtB,KAAK;;AACV,qBAAK,CAAC,IAAI,EAAE,CAAC;aAChB;;;;;;;;;;;;;;;;;;;;;;;AAGD,kCAAmB,IAAI,CAAC,OAAO,mIAAE;oBAAxB,MAAM;;AACX,sBAAM,CAAC,MAAM,EAAE,CAAC;aACnB;;;;;;;;;;;;;;;KACJ;;AAED,SAAK,EAAA,iBAAG;;;AAGJ,YAAI,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AACxC,mBAAO,KAAK,CAAC;SAChB;;;AAGD,YAAI,IAAI,CAAC,aAAa,KAAK,OAAO,EAAE;AAChC,mBAAO;SACV;;;;;;;;AAGD,kCAAkB,IAAI,CAAC,MAAM,mIAAE;oBAAtB,KAAK;;AACV,qBAAK,CAAC,KAAK,EAAE,CAAC;aACjB;;;;;;;;;;;;;;;;;;;;;;;AAGD,kCAAmB,IAAI,CAAC,OAAO,mIAAE;oBAAxB,MAAM;;AACX,sBAAM,CAAC,OAAO,EAAE,CAAC;aACpB;;;;;;;;;;;;;;;;;;AAGD,YAAI,CAAC,aAAa,GAAG,MAAK,CAAC;KAC9B;;AAED,UAAM,EAAA,gBAAC,IAAI,EAAE;;;;;;;AAET,kCAAkB,IAAI,CAAC,MAAM,mIAAE;oBAAtB,KAAK;;AACV,qBAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACtB;;;;;;;;;;;;;;;KAEJ;;AAED,UAAM,EAAA,kBAAG;;AAEL,YAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,IAAI,EAAE;AAC7B,mBAAO,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;SAChD;;AAED,SAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;KAE9D;;CAEJ,CAAC;;;;AAIF,YAAY,CAAC;;AAEb,IAAI,mBAAmB,GAAG,SAAtB,mBAAmB,CAAa,MAAM,EAAE,QAAQ,EAAE;AAClD,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,QAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AACpB,QAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AAChB,QAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACnB,QAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;AAErB,QAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC;AACrB,eAAO,EAAE,IAAI;AACb,0BAAkB,EAAE,IAAI;AACxB,uBAAe,EAAE,IAAI;AACrB,iBAAS,EAAE,CAAC;AACZ,gBAAQ,EAAE,KAAK;AACf,mBAAW,EAAE,CAAC,CAAC,eAAe,CAAC;AAC/B,gBAAQ,EAAE,oBAAY,EAAE;KAC3B,EAAE,QAAQ,CAAC,CAAC;;AAEb,QAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;;AAE1C,QAAI,CAAC,SAAS,EAAE,CAAC;;AAEjB,KAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC/E,KAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAEjD,WAAO,IAAI,CAAC;CACf,CAAC;;AAEF,mBAAmB,CAAC,SAAS,GAAG;;AAE5B,UAAM,EAAA,kBAAG;AACL,YAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AACpB,YAAI,CAAC,GAAG,EAAE,CAAC;KACd;;AAED,WAAO,EAAA,mBAAG;AACN,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACnB,oBAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC7B;;AAED,UAAM,EAAA,kBAAG;AACL,YAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AACpB,YAAI,CAAC,MAAM,EAAE,CAAC;KACjB;;AAED,aAAS,EAAA,qBAAG;AACR,YAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,YAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AACzC,YAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC;AAC1D,oBAAQ,EAAE,KAAK;SAClB,CAAC,CAAC;;AAEH,SAAC,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,YAAY;AAC1C,gBAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACvC,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE,UAAU,CAAC,EAAE;AAC5B,gBAAI,OAAO,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;AAC9C,gBAAI,UAAU,GAAG,OAAO,GAAG,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;AACjD,gBAAI,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAC/C,gBAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,GAAG,GAAG,iBAAiB,CAAC,CAAC;;AAEnF,gBAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACnF,CAAC,CAAC;;AAEH,SAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,qBAAqB,EAAE,YAAW;AACtD,gBAAI,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC;AACxB,gBAAI,CAAC,UAAU,GAAG,GAAG,CAAC;AACtB,gBAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;SAC/B,CAAC,CAAC;KACN;;AAED,OAAG,EAAA,eAAG;;AAEF,YAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE;AAC1D,mBAAO,IAAI,CAAC,KAAK,EAAE,CAAC;SACvB;;AAED,YAAI,CAAC,UAAU,EAAE,CAAC;AAClB,YAAI,CAAC,MAAM,EAAE,CAAC;;AAEd,oBAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC1B,YAAI,CAAC,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;KACvD;;AAED,UAAM,EAAA,kBAAG;AACL,YAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,MAAM,EAAE,CAAC;;AAE5C,SAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;KAC9E;;AAED,cAAU,EAAA,oBAAC,IAAI,EAAE;AACb,YAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;AACpC,YAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,OAAO,GAAG,EAAE,CAAC,CAAC;;AAE9C,YAAI,OAAO,GAAG,EAAE,EAAE;AACd,mBAAO,GAAG,GAAG,GAAG,OAAO,CAAC;SAC3B;;AAED,eAAO,OAAO,GAAG,GAAG,GAAG,OAAO,CAAC;KAClC;;CAEJ,CAAC;;;AAIF,YAAY,CAAC;;AAEb,IAAI,gBAAgB,GAAG,gBAAgB,IAAI,EAAE,CAAC;;AAE9C,gBAAgB,CAAC,OAAO,GAAG,UAAU,MAAM,EAAE,QAAQ,EAAE;;AAEnD,QAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACrB,QAAI,CAAC,WAAW,GAAG,IAAI,CAAC;;AAExB,QAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC;AACrB,aAAK,EAAE,IAAI;AACX,YAAI,EAAE,SAAS;KAClB,EAAE,QAAQ,CAAC,CAAC;;AAEb,QAAI,CAAC,MAAM,EAAE,CAAC;AACd,QAAI,CAAC,MAAM,EAAE,CAAC;;AAEd,WAAO,IAAI,CAAC;CACf,CAAC;;AAEF,gBAAgB,CAAC,OAAO,CAAC,SAAS,GAAG;;AAEjC,QAAI,EAAA,cAAC,QAAQ,EAAE;AACX,SAAC,CAAC,SAAS,CAAC,oCAAoC,EAAE,YAAY;AAC1D,mCAAuB,GAAG,YAAY;AAClC,wBAAQ,EAAE,CAAC;aACd,CAAC;SACL,CAAC,CAAC;KACN;;AAED,UAAM,EAAA,kBAAG;AACL,YAAI,CAAC,WAAW,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,EAAE;AACrE,iBAAK,EAAE,MAAM;AACb,kBAAM,EAAE,MAAM;AACd,mBAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO;AACpC,sBAAU,EAAE;AACR,0BAAU,EAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,AAAC;aAC7C;AACD,kBAAM,EAAE;AACJ,uBAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;AAChC,6BAAa,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC;aAC/C;SACJ,CAAC,CAAC;KACN;;AAED,WAAO,EAAA,mBAAG;;AAEN,YAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AACf,YAAI,CAAC,KAAK,EAAE,CAAC;;AAEb,YAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;KACzB;;AAED,iBAAa,EAAA,uBAAC,KAAK,EAAE;AACjB,gBAAQ,KAAK,CAAC,IAAI;AACd,iBAAK,EAAE,CAAC,WAAW,CAAC,OAAO;AACvB,oBAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;AACnB,sBAAM;AAAA,AACV,iBAAK,EAAE,CAAC,WAAW,CAAC,MAAM;AACtB,oBAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;AACpB,sBAAM;AAAA,SACb;KACJ;;AAED,UAAM,EAAA,kBAAG;AACL,YAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC7C,YAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;KAC9B;;AAED,UAAM,EAAA,gBAAC,IAAI,EAAE;AACT,YAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;KACpE;;AAED,QAAI,EAAA,gBAAG;AACH,YAAI,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC;KAChC;;AAED,SAAK,EAAA,iBAAG;AACJ,YAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;KACjC;;AAED,eAAW,EAAA,uBAAG;AACV,YAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;KAClC;;AAED,UAAM,EAAA,kBAAG;AACL,SAAC,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;KACnF;;CAEJ,CAAC","file":"splitplayer.js","sourcesContent":["/* globals _, $, SplitPlayerVideo */\n\n'use strict';\n\n// player state constants\nconst inactive = 0;\nconst loading = 1;\nconst ready = 2;\nconst buffering = 3;\nconst playing = 4;\nconst pause = 5;\n\nvar SplitPlayer = function (settings) {\n    debugger;\n\n    // video instances container\n    this.videos = [];\n\n    // plugin instances container\n    this.plugins = [];\n\n    // ready video count\n    this.readyCount = 0;\n\n    // global player state\n    this.playerStateIs = inactive;\n\n    // dependencie loading status\n    this.dependenciesLoaded = inactive;\n\n    this.settings = $.extend({\n        hoster: 'youtube',\n        videos: [],\n        area: null,\n        maxVideos: 2\n    }, settings) ;\n\n    this.loadVideoDependencies();\n\n    return this;\n};\n\nSplitPlayer.prototype = {\n\n    /*\n     * Load Video Dependecnies like youtubeIframeApi\n     */\n    loadVideoDependencies() {\n\n        this.dependenciesLoaded = loading;\n\n        SplitPlayerVideo[this.settings.hoster].load(\n            this.onVideoDependeciesReady.bind(this)\n        );\n\n    },\n\n    /*\n     * Load add Videos after Dependecnies Loaded\n     */\n    onVideoDependeciesReady() {\n\n        this.dependenciesLoaded = ready;\n\n        this.render();\n\n        /* add initial declared videos */\n        for (let video of this.settings.videos) {\n            this.addVideo(video);\n        }\n\n        this.playerStateIs = loading;\n    },\n\n    extend(Plugin) {\n        this.plugins.push(new Plugin(this));\n    },\n\n    addVideo(video) {\n\n        if (this.videos.length >= this.settings.maxVideos) {\n            return false;\n        }\n\n        this.videos.push(\n            new SplitPlayerVideo(this, {\n                video: video\n            })\n        );\n\n    },\n\n    removeVideo(video) {\n\n        _.findWhere(this.videos, video).remove();\n\n        this.videos = _.without(\n            this.videos,\n            _.findWhere(this.videos, video)\n        );\n\n        this.readyCount--;\n    },\n\n    onReady() {\n\n        this.readyCount++;\n\n        if (this.readyCount !== this.videos.length) {\n            return false;\n        }\n\n        this.playerStateIs = ready;\n\n        // hook onReady for plugins\n        for (let Plugin of this.plugins) {\n            Plugin.onReady();\n        }\n    },\n\n    play() {\n\n        if (this.readyCount !== this.videos.length) {\n            return false;\n        }\n\n        for (let video of this.videos) {\n            video.play();\n        }\n\n        // hook onPlay for plugins\n        for (let plugin of this.plugins) {\n            plugin.onPlay();\n        }\n    },\n\n    pause() {\n\n        // abort if not all videos ready\n        if (this.readyCount !== this.videos.length) {\n            return false;\n        }\n\n        // abort if player not playing state\n        if (this.playerStateIs !== playing) {\n            return;\n        }\n\n        // pause all videos\n        for (let video of this.videos) {\n            video.pause();\n        }\n\n        // hook all plugins\n        for (let plugin of this.plugins) {\n            plugin.onPause();\n        }\n\n        // set pause state\n        this.playerStateIs = pause;\n    },\n\n    timeTo(time) {\n\n        for (let video of this.videos) {\n            video.timeTo(time);\n        }\n\n    },\n\n    render() {\n\n        if (this.settings.area === null) {\n            return console.log('no html parent defined');\n        }\n\n        $(this.settings.area).html('<div id=\"SplitPlayer\"></div>');\n\n    }\n\n};\n\n/* globals $ */\n\n'use strict';\n\nvar SplitPlayerTimeline = function (player, settings) {\n    this.player = player;\n    this.playedTime = 0;\n    this.cycler = 0;\n    this.paused = true;\n    this.timeLine = null;\n\n    this.settings = $.extend({\n        element: null,\n        currentTimeElement: null,\n        durationElement: null,\n        startTime: 0,\n        duration: 10000,\n        previewLine: $('.preview-line'),\n        onChange: function () {}\n    }, settings);\n\n    this.playedTime = this.settings.startTime;\n\n    this.setEvents();\n\n    $(this.settings.durationElement).html(this.formatTime(this.settings.duration));\n    $(this.settings.currentTimeElement).html('0:00');\n\n    return this;\n};\n\nSplitPlayerTimeline.prototype = {\n\n    onPlay() {\n        this.paused = false;\n        this.run();\n    },\n\n    onPause() {\n        this.paused = true;\n        clearTimeout(this.cycler);\n    },\n\n    onStop() {\n        this.playedTime = 0;\n        this.update();\n    },\n\n    setEvents() {\n        var self = this;\n\n        this.timeLine = $(this.settings.element);\n        this.timeLine.attr('max', this.settings.duration).rangeslider({\n            polyfill: false\n        });\n\n        $('.rangeslider').on('mousedown', function () {\n            self.player.timeTo(self.playedTime);\n        }).on('mousemove', function (e) {\n            var leftPos = e.pageX - $(this).offset().left;\n            var percentage = leftPos * 100 / $(this).width();\n            var percentageRounded = Math.round(percentage);\n            var playerTime = self.formatTime(self.settings.duration / 100 * percentageRounded);\n\n            self.settings.previewLine.width(percentage + '%').find('time').html(playerTime);\n        });\n\n        $(document).on('input', 'input[type=\"range\"]', function() {\n            var val = $(this).val();\n            self.playedTime = val;\n            self.settings.onChange(val);\n        });\n    },\n\n    run() {\n        // pause\n        if (this.playedTime >= this.settings.duration || this.paused) {\n            return this.pause();\n        }\n\n        this.playedTime++;\n        this.update();\n\n        clearTimeout(this.cycler);\n        this.cycler = setTimeout(this.run.bind(this), 1000);\n    },\n\n    update() {\n        this.timeLine.val(this.playedTime).change();\n\n        $(this.settings.currentTimeElement).html(this.formatTime(this.playedTime));\n    },\n\n    formatTime(time) {\n        var minutes = Math.floor(time / 60);\n        var seconds = Math.round(time - minutes * 60);\n\n        if (seconds < 10) {\n            seconds = '0' + seconds;\n        }\n\n        return minutes + ':' + seconds;\n    }\n\n};\n\n\n/* globals YT, $ */\n'use strict';\n\nvar SplitPlayerVideo = SplitPlayerVideo || {};\n\nSplitPlayerVideo.youtube = function (player, settings) {\n\n    this.player = player;\n    this.videoPlayer = null;\n\n    this.settings = $.extend({\n        video: null,\n        type: 'youtube'\n    }, settings);\n\n    this.render();\n    this.create();\n\n    return this;\n};\n\nSplitPlayerVideo.youtube.prototype = {\n\n    load(callback) {\n        $.getScript('https://www.youtube.com/iframe_api', function () {\n            onYouTubeIframeAPIReady = function () {\n                callback();\n            };\n        });\n    },\n\n    create() {\n        this.videoPlayer = new YT.Player('player' + this.settings.video.videoId, {\n            width: '100%',\n            height: '100%',\n            videoId: this.settings.video.videoId,\n            playerVars: {\n                'controls': (this.settings.active ? 1 : 0)\n            },\n            events: {\n                onReady: this.onReady.bind(this),\n                onStateChange: this.onStateChange.bind(this)\n            }\n        });\n    },\n\n    onReady() {\n\n        this.timeTo(0);\n        this.pause();\n\n        this.player.onReady();\n    },\n\n    onStateChange(event) {\n        switch (event.data) {\n            case YT.PlayerState.PLAYING:\n                this.player.play();\n                break;\n            case YT.PlayerState.PAUSED:\n                this.player.pause();\n                break;\n        }\n    },\n\n    remove() {\n        this.player.removeVideo(this.settings.video);\n        this.videoPlayer.destroy();\n    },\n\n    timeTo(time) {\n        this.videoPlayer.seekTo(time + this.settings.video.startSeconds);\n    },\n\n    play() {\n        this.videoPlayer.playVideo();\n    },\n\n    pause() {\n        this.videoPlayer.pauseVideo();\n    },\n\n    getDuration() {\n        this.videoPlayer.getDuration();\n    },\n\n    render() {\n        $('#SplitPlayer').append('<div id=\"' + this.settings.video.videoId + '\"><div>');\n    }\n\n};\n"]}